<div
  cdkDropList
  id="{{lane.id}}"
  [cdkDropListData]="lane.cards"
  [cdkDropListConnectedTo]="connectedTo"
  (cdkDropListDropped)="onDrop($event)"
  class="drop-list"
>
  <div class="md-form">
    <div class="row row-title justify-content-center">
      <div class="col-md-10 pl-0 pr-0">
        <input
          mdbInput
          type="text"
          class="form-control titleInput"
          [(ngModel)]="lane.title"
          (change)="onLaneTitleChange(lane.id, lane)"
        />
        <label for="title" class=""></label>
      </div>
      <div class="col-md-2 pl-0 pr-0">
        <button
          class="deleteLane"
          *ngIf="isAuthorized()"
          (click)="deleteLane(lane.id)"
          mdbBtn
          mdbWavesEffect
        >
          <mdb-icon fas icon="far fa-trash-alt"></mdb-icon>
        </button>
        <div class="btn-group" mdbDropdown>
            <button
            class="editLane"
            mdbDropdownToggle
            mdbBtn
            mdbWavesEffect
          >
            <mdb-icon fas icon="plus"></mdb-icon>
          </button>
          <div class="dropdown-menu dropdown-primary">
              <a class="dropdown-item"
                (click)="openCardModal(lane.id)">Voeg kaart toe
              </a>
              <a class="dropdown-item"
                (click)="openCategoryModal(lane.id)">Voeg categorie toe
              </a>
          </div>
        </div>
      </div>
    </div>
    <!--  Begin of card  -->
    <mdb-card [attr.id]="getId(lane, card)" cdkDrag *ngFor="let card of lane.cards">
      <mdb-card-body cdkDragHandle class="card-message" *ngIf="isCard(card)" [ngStyle]="{'background-color': card.color}">
        <div class="btnCard">
          <button
            class="deleteCard"
            mdbDropdownToggle
            mdbBtn
            mdbWavesEffect
            (click)="deleteCard(lane.id, card.id)"
          >
            <mdb-icon far icon="trash-alt"></mdb-icon>
          </button>
          <div class="btn-group" mdbDropdown>
            <button
              (click)="openColorModal(lane.id, card)"
              class="editCard"
              mdbDropdownToggle
              mdbBtn
              mdbWavesEffect
            >
              <mdb-icon fas icon="palette"></mdb-icon>
            </button>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 pl-1">
            <span class="md-form">
              <textarea
                autosize
                mdbInput
                type="text"
                [(ngModel)]="card.message"
                class="md-textarea md-textarea-auto form-control text-center border-bottom-0 pb-0"
                (change)="updateCard(lane.id, card)"
              ></textarea>
            </span>
          </div>
        </div>
        <div class="row rowFooterCard">
          <div class="col-2"></div>
          <div class="col-6" >
            <i *ngFor="let vote of voteArray(card.rating)" class="fas fa-circle"></i>
          </div>

          <div class="col-md-4">
            <div class="col-md-6">
              <i
                class="far fa-thumbs-up cardVote"
                mdbBtn
                mdbWavesEffect
                (click)="voteCard(lane.id, card)"
              ></i>
            </div>
  
            <div class="col-md-6">
              <i
                class="far fa-thumbs-down cardVoteDown"
                mdbBtn
                mdbWavesEffect
                (click)="voteCardDown(lane.id, card)"
              ></i>
            </div>
            
          </div>
          

        </div>
      </mdb-card-body>
    </mdb-card>
    <!--  End of card  -->
  </div>
  <div class="addCard">
    <button
      class="addCardLarge"
      mdbBtn
      mdbWavesEffect
      (click)="openCardModal(lane.id)">
      <mdb-icon fas icon="plus"></mdb-icon>
    </button>
  </div>
</div>
